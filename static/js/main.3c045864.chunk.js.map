{"version":3,"sources":["components/Page.jsx","App.js","index.js"],"names":["PageMina","lazy","PageGallery","PageWolfy","PageLuna","PageShow","undeployAnimation","keyframes","Container","styled","div","bookmarkName","backgroundColor","pageZIndex","rootClientRect","theName","parseInt","width","deployAnimation","animationTime","PageBookmark","Page","deployPage","showHeight","console","log","fallback","onClick","toUpperCase","pageZIndexInit","mina","gallery","wolfy","show","luna","pageDeploying","root","document","getElementById","rootClientRectInit","getBoundingClientRect","timeoutId","App","useState","setPageZIndex","window","outerWidth","setRootClientRect","changeShowHeightAndRootClientRect","clearTimeout","setTimeout","addEventListener","useEffect","preState","pageZIndexInited","ReactDOM","render"],"mappings":"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","file":"static/js/main.3c045864.chunk.js","sourcesContent":["\r\n\r\nimport React, { lazy, Suspense } from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport { keyframes } from \"@emotion/react\";\r\n\r\nconst PageMina = lazy(() => { return import(\"./childComponents/pageMina.jsx\") })\r\nconst PageGallery = lazy(() => { return import(\"./childComponents/pageGallery.jsx\") })\r\nconst PageWolfy = lazy(() => { return import(\"./childComponents/pageWolfy.jsx\") })\r\nconst PageLuna = lazy(() => { return import(\"./childComponents/pageLuna.jsx\") })\r\nconst PageShow = lazy(() => { return import(\"./childComponents/pageShow.jsx\") })\r\n\r\n// 當螢幕解析度為1366px的時候，使用translate而其中的值是小數的話(30%或30vw這種值換算後有可能出現小數)\r\n// 會使並排的元素無法靠攏，因此不能使用40vw這樣的值\r\n// 因此要抓root的width乘以0.4，然後再用parseInt()確保值會是整數\r\nconst deployAnimation = (theName,rootClientRect) => {\r\n    return theName === \"mina\" || theName === \"luna\" || theName === \"wolfy\" ?\r\n        keyframes`\r\n    from{\r\n        width:20vw;\r\n        transform:translate(0vw, 0vh);\r\n    }\r\n    60%{\r\n        width:20vw;;\r\n        transform:translate(0vw, 100vh);\r\n    }\r\n    to{\r\n        width:100vw;\r\n        transform:translate(${theName === \"mina\" ? 0 :\r\n                theName === \"wolfy\" ? -parseInt(rootClientRect.width*0.4)+\"px\" : \"-80vw\"}, 100vh);\r\n    }\r\n    `\r\n        : theName === \"show\" ? keyframes`\r\n    from{ transform:translate(-${parseInt(rootClientRect.width*0.6)}px,100vh); }\r\n    to{transform:translate(-${parseInt(rootClientRect.width*0.6)}px,100vh);}`\r\n            : keyframes`\r\n    from{ \r\n        transform:translate(-20vw,100vh);\r\n     }\r\n    to{\r\n        transform:translate(-20vw,100vh);\r\n    }`\r\n}\r\nconst undeployAnimation = keyframes`\r\n    from{\r\n        transform:translate(0vw,-20vh)\r\n    }\r\n    to{\r\n        transform:translate(0vw,0vh)\r\n    }\r\n    `\r\n// 五個page都用keyframes展開\r\nconst Container = styled.div`\r\nmargin:0;\r\nwidth:${({ bookmarkName }) => bookmarkName === \"show\" || bookmarkName === \"gallery\" ? 100 : 20}vw;\r\nheight:100vh;\r\nbackground-color:${({ backgroundColor, bookmarkName }) => bookmarkName === \"show\" ? \"transparent\" : backgroundColor};\r\nposition:absolute;\r\ntop:-100vh;\r\nleft:${({ bookmarkName }) => bookmarkName === \"mina\" ? 0 :\r\n        bookmarkName === \"gallery\" ? 20 :\r\n            bookmarkName === \"wolfy\" ? 40 :\r\n                bookmarkName === \"show\" ? 60 : 80}vw;\r\ntransform:translate(0vw, 0vh);\r\nz-index:${({ pageZIndex }) => pageZIndex};\r\nanimation-name:${({ pageZIndex, bookmarkName, rootClientRect }) => pageZIndex === 2 ? undeployAnimation : deployAnimation(bookmarkName,rootClientRect)};\r\nanimation-duration:${({ animationTime }) => animationTime}s;\r\nanimation-fill-mode: forwards;\r\nanimation-timing-function:linear;\r\n`\r\nconst PageBookmark = styled.div`\r\nwidth:20vw;\r\nheight:3vw;\r\nbackground:${({ backgroundColor, bookmarkName }) => bookmarkName === \"gallery\" ? \"white\" : backgroundColor};\r\ncolor:${({ backgroundColor }) => backgroundColor === \"black\" ? \"white\" : \"black\"};\r\nposition:absolute;\r\nbottom:-3vw;\r\nfont-size:3vw;\r\nline-height:3vw;\r\ntext-align:center;\r\nfont-family:times new roman;\r\nborder-radius: 0 0 50% 50%;\r\ncursor: pointer;\r\ntransition:0.5s;\r\n&:hover{\r\n    color:${({ bookmarkName }) => bookmarkName === \"gallery\" ? \"black\" : \"white\"} ;\r\n    height:5vw;\r\n    line-height:5vw;\r\n    bottom:-5vw;\r\n}\r\n`\r\n\r\nfunction Page({ animationTime, bookmarkName, pageZIndex, deployPage, backgroundColor, showHeight, rootClientRect }) {\r\n\r\n    console.log(rootClientRect)\r\n\r\n    return (\r\n        <>\r\n            <Container pageZIndex={pageZIndex} backgroundColor={backgroundColor} bookmarkName={bookmarkName}\r\n                animationTime={animationTime} rootClientRect={rootClientRect}>\r\n                <Suspense fallback={<div>讀取中</div>}>\r\n                    {bookmarkName === \"mina\" && (<PageMina backgroundColor={backgroundColor} pageZIndex={pageZIndex} animationTime={animationTime} />)}\r\n                    {bookmarkName === \"gallery\" && (<PageGallery backgroundColor={backgroundColor} pageZIndex={pageZIndex} animationTime={animationTime} />)}\r\n                    {bookmarkName === \"wolfy\" && (<PageWolfy backgroundColor={backgroundColor} pageZIndex={pageZIndex} animationTime={animationTime}/>)}\r\n                    {bookmarkName === \"luna\" && (<PageLuna backgroundColor={backgroundColor} pageZIndex={pageZIndex} animationTime={animationTime} />)}\r\n                    {bookmarkName === \"show\" && (<PageShow backgroundColor={backgroundColor} pageZIndex={pageZIndex} animationTime={animationTime} showHeight={showHeight} />)}\r\n                </Suspense>\r\n                <PageBookmark\r\n                    onClick={() => { deployPage(bookmarkName) }}\r\n                    backgroundColor={backgroundColor}\r\n                    pageZIndex={pageZIndex}\r\n                    bookmarkName={bookmarkName}\r\n                >{bookmarkName.toUpperCase()}</PageBookmark>\r\n            </Container>\r\n\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default Page;","import { useState, useEffect } from \"react\";\n\n// import SlideShow from \"./components/slideShow.jsx\";\nimport Page from \"./components/Page.jsx\";\n\nconst animationTime = 2; //每個頁面的移動動畫標準時間\n\n\nconst pageZIndexInit = {\n  mina: 2,\n  gallery: 2,\n  wolfy: 2,\n  show: 2,\n  luna: 2,\n}\nlet pageDeploying = false;\n\n\n\n// 1280 1366 1600 1920\n// 720 768 900 1080\n\n// 根據瀏覽器視窗寬度取得傳回show的高度\nconst showHeightInit = () => {\n  return window.outerWidth <= 1366 ? 564 :\n    window.outerWidth <= 1600 ? 660 :\n      window.outerWidth <= 1920 ? 792 : 900\n}\n\n// 取得root\nconst root = document.getElementById(\"root\")\nlet rootClientRectInit = root.getBoundingClientRect()\nlet timeoutId = \"\" //防抖用變數\n\n\nfunction App() {\n  const [pageZIndex, setPageZIndex] = useState({ ...pageZIndexInit, show: 0 })\n  const [showHeight, setShowHeight] = useState(showHeightInit()) //使用slideShow px的時候才會用到\n  const [rootClientRect, setRootClientRect] = useState(rootClientRectInit)\n\n  // setRootClientRect(root.getBoundingClientRect())\n\n  // 根據瀏覽器視窗寬度改變showHeight\n  const changeShowHeightAndRootClientRect = () => {\n    // setShowHeight(showHeightInit()); 使用slideShow px的時候才會用到\n\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => {\n      setRootClientRect(root.getBoundingClientRect())\n    }\n      , 200)\n  }\n  window.addEventListener(\"resize\", changeShowHeightAndRootClientRect)\n  // 網頁剛載入的時候root的width有偏誤，因此用useEffect再抓一次\n  useEffect(() => {\n    changeShowHeightAndRootClientRect()    \n  }, [])\n\n\n  // 用來佈署page以及反佈署page\n  const deployPage = (bookmarkName) => {\n    if (pageDeploying) { return }\n    pageDeploying = true\n    setPageZIndex((preState) => {\n      preState[bookmarkName] = 1\n      return { ...preState }\n    })\n    setTimeout(() => {\n      pageDeploying = false;\n      setPageZIndex(() => {\n        let pageZIndexInited = { ...pageZIndexInit }\n        pageZIndexInited[bookmarkName] = 0\n        return pageZIndexInited\n      })\n    }, animationTime * 1000);\n  }\n  // mina備選顏色#fde6ea\n  // luna備選顏色#ffd890\n\n  return (\n    <>\n      <div>\n        <Page animationTime={animationTime} bookmarkName=\"mina\" pageZIndex={pageZIndex.mina} deployPage={deployPage} backgroundColor=\"pink\" />\n        <Page animationTime={animationTime} bookmarkName=\"gallery\" pageZIndex={pageZIndex.gallery} deployPage={deployPage} backgroundColor=\"transparent\" />\n        <Page animationTime={animationTime} bookmarkName=\"wolfy\" pageZIndex={pageZIndex.wolfy} deployPage={deployPage} backgroundColor=\"rgb(200, 200, 200)\"\n          rootClientRect={rootClientRect} />\n        <Page animationTime={animationTime} bookmarkName=\"show\" pageZIndex={pageZIndex.show} deployPage={deployPage} backgroundColor=\"black\"\n          showHeight={showHeight}\n          rootClientRect={rootClientRect} />\n        <Page animationTime={animationTime} bookmarkName=\"luna\" pageZIndex={pageZIndex.luna} deployPage={deployPage} backgroundColor=\"#ffd890\" />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport \"normalize.css\";\nimport \"./css/index.css\" // box-sizing: border-box;\n\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}