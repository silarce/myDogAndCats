{"version":3,"sources":["img/index_show sync nonrecursive /^/.*/.jpg$","img/index_show/showImg_1.jpg","img/index_show/showImg_2.jpg","img/index_show/showImg_3.jpg","img/index_show/showImg_4.jpg","img/index_show/showImg_5.jpg","img/index_show/showImg_6.jpg","img/index_show/showImg_7.jpg","img/index_show/showImg_8.jpg","img/index_show/showImg_9.jpg","components/childComponents/slideShow.jsx","components/childComponents/pageShow.jsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","imgArr","theRequireContext","images","requireContext","item","index","default","importAllImagesWithArray","require","ShowContainer","styled","div","ShowBox","ShowBoxCube","position","fade","backgroundImage","transitionDelay","photoCube","cubeState","transitionDelayArr","i","positionX","positionY","cubeArr","j","k","push","shuffle","arr","length","rand","Math","floor","random","transitionDelayArrInit","SlideShow","useState","cube1State","setCube1State","cube2State","setCube2State","setTransitionDelayArr","cubeArr1","cubeArr2","iterationDelay","useEffect","newImg","imageChoosed","chooseImage","includes","unshift","pop","changeImage","preState","setTimeout","intervalId","setInterval","clearInterval","Container","shadowCleanAnimation","keyframes","ShadowBlock","pageZIndex","animationTime","fakeBookmarkAnimation","FakeBookmark","shadowShouldPlay","shadowSwitch","PageShow","showHeight","style","zIndex"],"mappings":"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","file":"static/js/7.34ff0528.chunk.js","sourcesContent":["var map = {\n\t\"./showImg_1.jpg\": 109,\n\t\"./showImg_2.jpg\": 110,\n\t\"./showImg_3.jpg\": 111,\n\t\"./showImg_4.jpg\": 112,\n\t\"./showImg_5.jpg\": 113,\n\t\"./showImg_6.jpg\": 114,\n\t\"./showImg_7.jpg\": 115,\n\t\"./showImg_8.jpg\": 116,\n\t\"./showImg_9.jpg\": 117\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 108;","export default __webpack_public_path__ + \"static/media/showImg_1.2bc40369.jpg\";","export default __webpack_public_path__ + \"static/media/showImg_2.20c4ee8d.jpg\";","export default __webpack_public_path__ + \"static/media/showImg_3.77f2a733.jpg\";","export default __webpack_public_path__ + \"static/media/showImg_4.1b9f6c53.jpg\";","export default __webpack_public_path__ + \"static/media/showImg_5.5ac7b306.jpg\";","export default __webpack_public_path__ + \"static/media/showImg_6.d55a3461.jpg\";","export default __webpack_public_path__ + \"static/media/showImg_7.714798dd.jpg\";","export default __webpack_public_path__ + \"static/media/showImg_8.9cc2929b.jpg\";","export default __webpack_public_path__ + \"static/media/showImg_9.af51cca4.jpg\";","// 照片都已經被裁減為6:4\r\n// 同時照片的顯示大小用CSS設定成width:120vh\r\n// 每一個cube width:20vh; height:20vh;\r\n// 每一個cube的background-postion也是用20vh為一個單位來調整\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport styled from \"@emotion/styled\"\r\n\r\n// 將指定資料夾的所有.jpg檔案全部匯入並以陣列的型式宣告為imgArr\r\nfunction importAllImagesWithArray(theRequireContext) {\r\n    let images = []\r\n    const requireContext = theRequireContext;\r\n    requireContext.keys().map((item, index) => { images[index] = requireContext(item).default; return \"\" });\r\n    return images;\r\n}\r\nconst imgArr = importAllImagesWithArray(require.context(\"img/index_show\", false, /^\\.\\/.*\\.jpg$/))\r\n\r\n// 裝ShowBox的容器\r\nlet ShowContainer = styled.div`\r\nbackground-color: #fff;\r\nwidth:120vh;\r\nheight: 80vh;\r\nmargin: 12vh auto 4vh auto;\r\nposition: relative;\r\n`\r\n// 裝cube的盒子\r\nlet ShowBox = styled.div` \r\nwidth: 120vh;\r\nheight: 80vh;\r\ndisplay: grid;\r\ngrid-template-columns: repeat(6, 1fr);\r\nbackground-size: 120vh;\r\nposition: absolute;\r\n`\r\n//顯示圖片用的cube\r\nconst fadeInDuration = 5000; //淡入時間\r\nconst fadeOutDuration = 2000; //淡出時間\r\nlet ShowBoxCube = styled.div`\r\nwidth: 20vh;\r\nheight: 20vh;\r\nbackground-size: 120vh;\r\nbackground-position:${({ position }) => position};\r\nopacity:${({ fade }) => fade ? 1 : 0};\r\nbackground-image:${({ backgroundImage }) => backgroundImage};\r\ntransition:${({ fade }) => fade ? fadeInDuration : fadeOutDuration}ms, background-image 0ms;\r\ntransition-delay:${({ transitionDelay }) => transitionDelay}ms;\r\ntransition-property:opacity;\r\n`\r\n\r\n//產生24個<ShowBoxCube/>並且依照位置設定background-postion與必要的props\r\nfunction photoCube(cubeState, transitionDelayArr) {\r\n    let cubeArr = [];\r\n    let i;\r\n    let j = 6;\r\n    let k = 4;\r\n    let positionX;\r\n    let positionY;\r\n    for (i = 0; i < 24; i++) {\r\n        if (j === 0) { j = 6; k-- };\r\n        positionX = `${j * 20}vh`\r\n        positionY = `${k * 20}vh`\r\n        j--\r\n        cubeArr.push(<ShowBoxCube key={i}\r\n            position={`${positionX} ${positionY}`}\r\n            fade={cubeState.fade}\r\n            backgroundImage={cubeState.backgroundImage}\r\n            transitionDelay={transitionDelayArr[i]}\r\n        />)\r\n    }\r\n    return cubeArr;\r\n}\r\n\r\n//洗牌演算法\r\nfunction shuffle(arr) {\r\n    for (let i = arr.length - 1; i > 0; i -= 1) {\r\n        const rand = Math.floor(Math.random() * (i + 1));\r\n        [arr[i], arr[rand]] = [arr[rand], arr[i]];\r\n    }\r\n    return arr;\r\n}\r\n// transitionDelay陣列，在之後的每一次迭代都要亂數排序一次\r\n// 然後代入setTransitionDelayArr()執行，這樣就能亂數改變方塊變動的順序\r\nconst transitionDelayArrInit = []\r\nconst transitionDelayUnit = 200; // 每一個cube淡近淡出的間隔時間，單位為ms\r\nfor (let i = 0; i < 24; i++) {\r\n    transitionDelayArrInit[i] = transitionDelayUnit * (i + 1)\r\n}\r\n// 將transitionDelayArrInit亂數排序，之後代入下面的useState\r\nshuffle(transitionDelayArrInit);\r\n\r\nfunction SlideShow() {\r\n    // cube陣列的state\r\n    // fade為false會淡出，為true會淡入\r\n    const [cube1State, setCube1State] = useState({ fade: false, backgroundImage: \"linear-gradient(90deg, rgba(0,0,0,1) 0%, rgba(0,0,0,1) 100%)\" });\r\n    const [cube2State, setCube2State] = useState({ fade: true, backgroundImage: \"linear-gradient(90deg, rgba(0,0,0,1) 0%, rgba(0,0,0,1) 100%)\" });\r\n    // 上下層每一個cube都會依據自身的index代入transitionDelayArr[index]，這樣就能使不同層同一個位置cube的transition-delay一樣\r\n    const [transitionDelayArr, setTransitionDelayArr] = useState(transitionDelayArrInit)\r\n    \r\n    // 生成圖片方塊，也就是cube\r\n    const cubeArr1 = photoCube(cube1State, transitionDelayArr); //下層\r\n    const cubeArr2 = photoCube(cube2State, transitionDelayArr); //上層\r\n    // 每一次迭代的間隔時間\r\n    // 24 * 200 + 5000 + 1000， 最後一個值可以隨意調整，最好不要為負數，不然在cube淡入完之前就會開始下一次迭代\r\n    const iterationDelay = transitionDelayArr.length * transitionDelayUnit + fadeInDuration + 1000; \r\n    \r\n    useEffect(() => {\r\n        let imageChoosed = [999, 999, 999, 999] //用來紀錄剛剛選過的四個圖片，避免在四個迭代內出現同樣的圖片\r\n        let newImg;\r\n        // 選擇新圖片\r\n        const chooseImage = () => {\r\n            newImg = Math.floor(Math.random() * imgArr.length);\r\n            //如果選到的圖片跟imageChoosed一樣，就再選一次，直到選到不一樣的\r\n            if (imageChoosed.includes(newImg)) { chooseImage() } else { \r\n                imageChoosed.unshift(newImg); //將這次選到的圖片放進imageChoosed，使其暫時不能再次被選到\r\n                imageChoosed.pop(); //將最舊的圖片移出imageChoosed，使其可以被選到\r\n            }\r\n        }\r\n        // 改變狀態使上下層交替淡入與淡出，淡入層會改變圖片\r\n        const changeImage = () => {\r\n            chooseImage();\r\n            setTransitionDelayArr(shuffle(transitionDelayArrInit))\r\n            setCube1State((preState) => {\r\n                return {\r\n                    fade: !preState.fade,\r\n                    backgroundImage: preState.fade ? preState.backgroundImage : `url(${imgArr[newImg]})`\r\n                }\r\n            })\r\n            setCube2State((preState) => {\r\n                return {\r\n                    fade: !preState.fade,\r\n                    backgroundImage: preState.fade ? preState.backgroundImage : `url(${imgArr[newImg]})`\r\n                }\r\n            })\r\n        }\r\n        // 第一次執行changeImage\r\n        // 在卸載這個slideShow(也就是這個元件)後再裝載時，時常會出現BUG，\r\n        // BUG為，第一次迭代時，照片就全顯現、沒有淡入淡出的動畫\r\n        // 猜測是因為初始State在導入並改變DOM元素之前就setState，\r\n        // 使的DOM元素的初始css直接導入了漸變後的state，就不會漸變了\r\n        // 使用setTimeout()延遲呼叫changeImage()就能避免這樣的問題\r\n        setTimeout(() => {\r\n            changeImage();\r\n        }, 100);\r\n        // 每iterationDelay毫秒呼叫一次changeImage()\r\n        let intervalId = setInterval(() => {\r\n            changeImage();\r\n        }, iterationDelay)\r\n        \r\n        return () => {\r\n            // 卸載時清除interval\r\n            clearInterval(intervalId);\r\n        }\r\n    }, [iterationDelay])\r\n\r\n    return (\r\n        <>\r\n            <ShowContainer id=\"ShowContainer\">\r\n                <ShowBox id=\"ShowBox1\"  >\r\n                    {cubeArr1}\r\n                </ShowBox>\r\n                <ShowBox id=\"ShowBox2\">\r\n                    {cubeArr2}\r\n                </ShowBox>\r\n            </ShowContainer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SlideShow;","// import { useEffect } from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport { keyframes } from \"@emotion/react\";\r\n\r\nimport SlideShow from \"./slideShow.jsx\";\r\n\r\nconst Container = styled.div`\r\nposition:relative;\r\noverflow:hidden;\r\nwidth:100%;\r\nheight:100%;\r\nz-index:0;\r\n`\r\nconst shadowCleanAnimation = keyframes`\r\nfrom{\r\n    box-shadow: inset 0px 0px 400px 0vw #000000;\r\n}\r\n66%{\r\n    box-shadow: inset 0px 0px 400px 65vw #000000;\r\n    opacity:1;\r\n}\r\nto{\r\n    opacity:0;\r\n}\r\n`\r\nconst ShadowBlock = styled.div`\r\nposition:absolute;\r\ntop:50%;\r\nleft:50%;\r\ntransform:translate(-50%, -50%);\r\nwidth:140vw;\r\nheight:140vw;\r\nborder-radius:50%;\r\nbox-shadow: inset 0px 0px 400px 65vw #000000;\r\nanimation-name:${({ pageZIndex }) => pageZIndex === 2 ? null : shadowCleanAnimation};\r\nanimation-duration:${({ animationTime }) => animationTime + 1}s;\r\nanimation-fill-mode:forwards;\r\nanimation-timing-function:linear;\r\nz-index:2;\r\n`\r\nconst fakeBookmarkAnimation = keyframes`\r\nfrom{\r\nopacity:0\r\n}\r\nto{\r\nopacity:1;\r\n}\r\n`\r\nconst FakeBookmark = styled.div`\r\nwidth:20vw;\r\nheight:5vw;\r\nposition:absolute;\r\nleft:60vw;\r\ntop:0;\r\nbackground:black;\r\ncolor:white;\r\nline-height:5vw;\r\ntext-align:center;\r\nfont-size:3vw;\r\nfont-family:times new roman;\r\nborder-radius: 0 0 50% 50%;\r\nanimation-name:${({ pageZIndex }) => pageZIndex === 0 ? fakeBookmarkAnimation : null};\r\nanimation-duration:3s;\r\nanimation-fill-mode:forwards;\r\nanimation-timing-function:linear;\r\nz-index:1;\r\n`\r\n\r\nlet shadowShouldPlay = false;\r\nlet shadowSwitch = (pageZIndex) => {\r\n    if (pageZIndex === 2) {\r\n        shadowShouldPlay = true;\r\n        shadowSwitch = () => { return };\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction PageShow({ pageZIndex, animationTime, showHeight }) {\r\n\r\n    shadowSwitch(pageZIndex)\r\n\r\n    return (\r\n        pageZIndex === 2 ? null :\r\n            <Container>\r\n                {pageZIndex===0 ? <SlideShow showHeight={showHeight} style={{zIndex:1}} /> : null}\r\n                {shadowShouldPlay ?\r\n                    <><ShadowBlock pageZIndex={pageZIndex} animationTime={animationTime} shadowShouldPlay={shadowShouldPlay} />\r\n                    </>: null}\r\n                        <FakeBookmark pageZIndex={pageZIndex} animationTime={animationTime}>SHOW</FakeBookmark>\r\n            </Container>\r\n    )\r\n}\r\n\r\nexport default PageShow;"],"sourceRoot":""}